<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrito | Miranda Flow</title>

<style>
:root{
  --bg:#0a0a0a;
  --glass:rgba(255,255,255,0.06);
  --border:rgba(255,255,255,0.08);
  --text:#ffffff;
  --muted:#9a9a9a;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Inter,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  -webkit-tap-highlight-color:transparent;
}

/* HEADER */
header{
  position:sticky;
  top:0;
  z-index:20;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
}
.header-inner{
  max-width:1100px;
  margin:auto;
  padding:16px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.brand{
  font-weight:600;
  letter-spacing:.6px;
}
.back{
  text-decoration:none;
  color:var(--muted);
  font-size:14px;
}
.back:hover{color:#fff}

/* MAIN */
main{
  max-width:900px;
  margin:42px auto;
  padding:0 20px;
}
h1{
  font-size:34px;
  margin:0 0 6px 0;
}
.subtitle{
  color:var(--muted);
  margin-bottom:30px;
}

/* ITEMS */
.cart{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.item{
  background:var(--glass);
  border-radius:18px;
  padding:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 30px 60px rgba(0,0,0,.45);
  animation:fadeUp .35s ease;
}
.item-info{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.item-name{
  font-size:16px;
  font-weight:500;
}
.item-price{
  color:var(--muted);
  font-size:14px;
}

/* QTY */
.qty{
  display:flex;
  align-items:center;
  gap:14px;
}
.qty button{
  width:34px;
  height:34px;
  border-radius:50%;
  border:1px solid var(--border);
  background:transparent;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}
.qty button:active{
  transform:scale(.94);
}
.qty span{
  min-width:22px;
  text-align:center;
}

/* SUMMARY */
.summary{
  margin-top:34px;
  border-top:1px solid var(--border);
  padding-top:26px;
  display:flex;
  flex-direction:column;
  gap:22px;
}
.total{
  display:flex;
  justify-content:space-between;
  font-size:20px;
  font-weight:600;
}

/* BUTTONS */
.checkout{
  background:#fff;
  color:#000;
  border:none;
  border-radius:999px;
  padding:18px;
  font-size:15px;
  font-weight:600;
  cursor:pointer;
}
.checkout:active{transform:scale(.98)}

.continue{
  text-align:center;
  color:var(--muted);
  font-size:14px;
  cursor:pointer;
}
.continue:hover{color:#fff}

/* EMPTY */
.empty{
  text-align:center;
  color:var(--muted);
  padding:70px 0;
  font-size:15px;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1;transform:translateY(0)}
}

@media(max-width:600px){
  h1{font-size:28px}
}
</style>
</head>

<body>

<header>
  <div class="header-inner">
    <div class="brand">Miranda Flow</div>
    <a class="back" href="index.html">← Volver</a>
  </div>
</header>

<main>
  <h1>Carrito</h1>
  <div class="subtitle">Selección privada</div>

  <div id="cart" class="cart"></div>

  <div id="summary" class="summary" style="display:none">
    <div class="total">
      <span>Total</span>
      <span id="total">$0</span>
    </div>
    <button class="checkout">Finalizar compra</button>
    <div class="continue" onclick="location.href='index.html'">
      Seguir explorando
    </div>
  </div>

  <div id="empty" class="empty" style="display:none">
    Tu carrito está vacío.
  </div>
</main>

<script>
let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

const cartEl = document.getElementById("cart");
const totalEl = document.getElementById("total");
const summaryEl = document.getElementById("summary");
const emptyEl = document.getElementById("empty");

function render(){
  cartEl.innerHTML="";
  let total=0;

  if(carrito.length===0){
    emptyEl.style.display="block";
    summaryEl.style.display="none";
    return;
  }

  emptyEl.style.display="none";
  summaryEl.style.display="flex";

  carrito.forEach((item,i)=>{
    total += item.price * item.qty;

    const el=document.createElement("div");
    el.className="item";
    el.innerHTML=`
      <div class="item-info">
        <div class="item-name">${item.name}</div>
        <div class="item-price">$${item.price}</div>
      </div>
      <div class="qty">
        <button onclick="updateQty(${i},-1)">−</button>
        <span>${item.qty}</span>
        <button onclick="updateQty(${i},1)">+</button>
      </div>
    `;
    cartEl.appendChild(el);
  });

  totalEl.textContent="$"+total;
}

function updateQty(i,delta){
  carrito[i].qty+=delta;
  if(carrito[i].qty<=0){
    carrito.splice(i,1);
  }
  localStorage.setItem("carrito",JSON.stringify(carrito));
  render();
}

render();
</script>

</body>
</html>
